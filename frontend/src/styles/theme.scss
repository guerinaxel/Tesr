// Use the explicit theming module via a direct path so both esbuild and Karma/Webpack
// can resolve the Sass helpers consistently.
@use '../../node_modules/@angular/material/core/theming/_theming.scss' as mat;
@use '../../node_modules/@angular/material/core/theming/_palette.scss' as mat-palette;
@use '../../node_modules/@angular/material/core/typography/_typography.scss' as mat-typography;
@use '../../node_modules/@angular/material/core/_core.scss' as mat-core;
@use '../../node_modules/@angular/material/core/theming/_all-theme.scss' as mat-all-theme;

// Custom AI Assistant theme following Angular Material best practices.
// Uses Material Design 3 design tokens and exposes system-level CSS variables
// for use across the application styles.
$ai-primary: mat.define-palette(mat-palette.$cyan-palette, 600);
$ai-secondary: mat.define-palette(mat-palette.$blue-palette);
$ai-tertiary: mat.define-palette(mat-palette.$orange-palette);
$ai-neutral: mat.define-palette(mat-palette.$blue-grey-palette);
$ai-error: mat.define-palette(mat-palette.$red-palette);

$ai-assistant-theme: mat.define-light-theme((
  color: (
    primary: $ai-primary,
    accent: $ai-secondary,
    warn: $ai-tertiary,
  ),
  typography: mat-typography.define-typography-config(),
  density: 0,
));

@include mat-core.core();

@include mat-all-theme.all-component-themes($ai-assistant-theme);

:root {
  // Primary
  --mat-sys-primary: #{mat.get-color-from-palette($ai-primary, 600)};
  --mat-sys-on-primary: #{mat.get-contrast-color-from-palette($ai-primary, 600)};
  --mat-sys-primary-container: #{mat.get-color-from-palette($ai-primary, 100)};
  --mat-sys-on-primary-container: #{mat.get-contrast-color-from-palette($ai-primary, 100)};

  // Secondary
  --mat-sys-secondary: #{mat.get-color-from-palette($ai-secondary, 600)};
  --mat-sys-secondary-container: #{mat.get-color-from-palette($ai-secondary, 50)};
  --mat-sys-on-secondary-container: #{mat.get-contrast-color-from-palette($ai-secondary, 50)};

  // Surface / Neutral
  --mat-sys-surface-container-lowest: #{mat.get-color-from-palette($ai-neutral, 50)};
  --mat-sys-surface-container-low: #{mat.get-color-from-palette($ai-neutral, 100)};
  --mat-sys-surface: #{mat.get-color-from-palette($ai-neutral, 50)};
  --mat-sys-outline: #{mat.get-color-from-palette($ai-neutral, 400)};
  --mat-sys-outline-variant: #{mat.get-color-from-palette($ai-neutral, 200)};
  --mat-sys-on-surface: #{mat.get-contrast-color-from-palette($ai-neutral, 50)};
  --mat-sys-on-surface-variant: #{mat.get-color-from-palette($ai-neutral, 600)};

  // Error
  --mat-sys-error: #{mat.get-color-from-palette($ai-error, 600)};
  --mat-sys-error-container: #{mat.get-color-from-palette($ai-error, 50)};
  --mat-sys-on-error-container: #{mat.get-contrast-color-from-palette($ai-error, 50)};
}
